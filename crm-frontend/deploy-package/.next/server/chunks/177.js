"use strict";exports.id=177,exports.ids=[177],exports.modules={85177:(a,b,c)=>{c.d(b,{roleService:()=>f});var d=c(70216);class e{getAuthHeaders(){let a=localStorage.getItem("auth_token");return{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}async handleAuthError(a){401===a.status?console.warn("Authentication failed, redirecting to login"):403===a.status&&console.warn("Access forbidden - user lacks required permissions")}async getRoles(){let a=await fetch(`${this.API_BASE_URL}/roles`,{headers:this.getAuthHeaders()});if(!a.ok)throw await this.handleAuthError(a),Error((await a.json().catch(()=>({}))).error||"Failed to fetch roles");let b=await a.json();return b.roles||b}async getRole(a){let b=await fetch(`${this.API_BASE_URL}/roles/${a}`,{headers:this.getAuthHeaders()});if(!b.ok)throw await this.handleAuthError(b),Error((await b.json().catch(()=>({}))).error||"Failed to fetch role");return(await b.json()).role}async createRole(a){let b=await fetch(`${this.API_BASE_URL}/roles`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(a)});if(!b.ok)throw await this.handleAuthError(b),Error((await b.json().catch(()=>({}))).error||"Failed to create role");let c=await b.json();return c.role||c}async updateRole(a,b){let c=await fetch(`${this.API_BASE_URL}/roles/${a}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(b)});if(!c.ok)throw await this.handleAuthError(c),Error((await c.json().catch(()=>({}))).error||"Failed to update role");let d=await c.json();return d.role||d}async deleteRole(a){let b=await fetch(`${this.API_BASE_URL}/roles/${a}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!b.ok)throw await this.handleAuthError(b),Error((await b.json().catch(()=>({}))).error||"Failed to delete role")}async getPermissionStructure(){let a=await fetch(`${this.API_BASE_URL}/roles/system/permissions`,{headers:this.getAuthHeaders()});if(!a.ok)throw await this.handleAuthError(a),Error((await a.json().catch(()=>({}))).error||"Failed to fetch permission structure");let b=await a.json();return b.permissions||b}async getAvailableRoles(){let a=await fetch(`${this.API_BASE_URL}/roles`,{headers:this.getAuthHeaders()});if(!a.ok)throw await this.handleAuthError(a),Error((await a.json().catch(()=>({}))).error||"Failed to fetch available roles");let b=await a.json();return b.roles||b}constructor(){this.API_BASE_URL=(0,d.h)()}}let f=new e}};